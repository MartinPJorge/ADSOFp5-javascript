<html>

	<head>
		<meta charset="utf-8" />
		<title>Batalla de los 5 ejércitos</title>
		<link rel="stylesheet" type="text/css" href="testPage.css">
		<link rel="shortcut icon" type="image/png" href="favicon.png" />
		<script type="text/javascript" src="oop.js"></script>


		<!-- BOLAS -->
		<script type="text/javascript" src="bolas/Bola.js"></script>
		<script type="text/javascript" src="bolas/Distribuidor.js"></script>

		<!-- CRIATURAS -->
		<script type="text/javascript" src="criaturas/Criatura.js"></script>
		<script type="text/javascript" src="criaturas/CriaturaLibre.js"></script>
		<script type="text/javascript" src="criaturas/CriaturaOscura.js"></script>
		<script type="text/javascript" src="criaturas/PrimerNacido.js"></script>
		<script type="text/javascript" src="criaturas/Hombre.js"></script>
		<script type="text/javascript" src="criaturas/Elfo.js"></script>
		<script type="text/javascript" src="criaturas/Enano.js"></script>
		<script type="text/javascript" src="criaturas/Orco.js"></script>
		<script type="text/javascript" src="criaturas/Huargo.js"></script>

		<!-- FACTORIAS -->
		<script type="text/javascript" src="factorias/CriaturaFactoria.js"></script>
		<script type="text/javascript" src="factorias/ElfoFactoria.js"></script>
		<script type="text/javascript" src="factorias/EnanoFactoria.js"></script>
		<script type="text/javascript" src="factorias/HombreFactoria.js"></script>
		<script type="text/javascript" src="factorias/HuargoFactoria.js"></script>
		<script type="text/javascript" src="factorias/OrcoFactoria.js"></script>

		<!-- EJERCITOS -->
		<script type="text/javascript" src="ejercitos/Tropa.js"></script>
		<script type="text/javascript" src="excepciones/TropasIncompatiblesEx.js"></script>
		<script type="text/javascript" src="ejercitos/Ejercito.js"></script>

		<!-- BATALLA -->
		<script type="text/javascript" src="batalla5ejercitos/Batalla.js"></script>




	</head>


	<body>
		<h1>
			<span>Batalla </span>
			<div>
				<span id="arriba">de</span><br/>
				<span id="abajo">los</span>
			</div>
			<span> 5 ejércitos</span>
		</h1><br/>

		<a href="#atributosCriatura" id="info">i</a>

		<div id="screenContainer">
			<div id="mensajeContainer" class="oculto">
				<div id="mensajeFin"><span>Fin de batalla</span></div>
				<div id="ganador" class="resultado"><span></span></div>
				<div id="perdedor" class="resultado"><span></span></div>
			</div>
			<canvas id="battleScreen" width="400" height="300"></canvas>
		</div>
		<a id="despliega" class="icon-angle-double-down">Historial</a><br/>
		<p id="historialBatalla"></p>
		<br/><br/>


		<div></div>
		<form>
			<fieldset>
				<legend>Criaturas libres</legend>

				<label for="criaturasLibres">Criaturas</label>
				<select name="criaturasLibres" id="criaturasLibres">
					<option>Elfo</option>
					<option>Enano</option>
					<option>Hombre</option>
				</select><br/><br/>
				<label for="cantidadLibres">Cantidad</label>
				<input name="cantidadLibres" id="cantidadLibres" type="text" /><br/><br/>


				<select name="tropasLibres" class="tropas" id="tropasLibres" size="5"></select>
				<br/><br/>

				<a id="addLibres">Añadir</a>
				<a id="borrarLibres">Borrar</a>

			</fieldset>
		</form>
		<form>
			<fieldset>
				<legend>Criaturas oscuras</legend>

				<label for="criaturasOscuras">Criaturas</label>
				<select name="criaturasOscuras" id="criaturasOscuras">
					<option>Huargo</option>
					<option>Orco</option>
				</select><br/><br/>
				<label for="cantidadOscuras">Cantidad</label>
				<input name="cantidadOscuras" id="cantidadOscuras" type="text" /><br/><br/>


				<select name="tropasOscuras" class="tropas" id="tropasOscuras" size="5"></select>
				<br/><br/>

				<a id="addOscuras">Añadir</a>
				<a id="borrarOscuras">Borrar</a>
			</fieldset>
		</form><br/>

		<a id="empezar" href="#">Empezar</a><br/>

		<table id="atributosCriatura">
			<tr>
				<td class="type"></td>
				<td>Hombre</td>
				<td>Elfo</td>
				<td>Enano</td>
				<td>Orco</td>
				<td>Huargo</td>
			</tr>
			<tr>
				<td class="type">Color</td>
				<td><div class="colorTropa" id="colorHombre"></div></td>
				<td><div class="colorTropa" id="colorElfo"></div></td>
				<td><div class="colorTropa" id="colorEnano"></div></td>
				<td><div class="colorTropa" id="colorOrco"></div></td>
				<td><div class="colorTropa" id="colorHuargo"></div></td>
			</tr>
			<tr>
				<td class="type">Puntos de vida</td>
				<td>1</td>
				<td>2</td>
				<td>1</td>
				<td>2</td>
				<td>1</td>
			</tr>
			<tr>
				<td class="type">Ataque</td>
				<td>[2,4]</td>
				<td>[2,3]</td>
				<td>[1,4]</td>
				<td>[2,4]</td>
				<td>[1,3]</td>
			</tr>
			<tr>
				<td class="type">Defensa</td>
				<td>[1,3]</td>
				<td>[2,3]</td>
				<td>[1,2]</td>
				<td>[1,2]</td>
				<td>[2,4]</td>
			</tr>
		</table><br/>


		<section tabindex="0" class="explicacion">
			<div class="esquinita"></div>
			<h2>Creación de criaturas</h2>
			<p>
				El ataque y defensa de cada criatura se decide al crearla. Es entonces cuando se le asigna un valor comprendido entre los especificados en la tabla de arriba.<br/>
				Los elfos y orcos son <em>primeros nacidos</em>, y pueden curar las heridas recividas en ataque con unas probabilidades de 0.3 y 0.2, respectivamente.
			</p>
		</section><br/>

		<section tabindex="0" id="ataque" class="explicacion">
			<div class="esquinita"></div>
			<h2>Funcionamiento de ataques</h2>
			<ol>
				<li>El ejérctito libre ataca al oscuro.</li>
				<li>Cada tropa libre elige de forma totalmente aleatoria a otra tropa oscura a la que atacar.</li>
				<li>Cada guerrero de la tropa libre elige de forma totalmente aleatoria a otro guerrero oscuro al que atacar.</li>
				<li>Se realiza el ataque entre guerreros:
					<ol>
						<li>Dado atacante.</li>
						<li>Dado defensor.</li>
						<li>(ataque + dadoA) > (defensa + dadoD) => 1 herida al defensor.</li>
					</ol>
				</li>
				<li>El ejército oscuro realiza el ataque.</li>
				<li>Restamos a los puntos de vida las heridas recibidas.</li>
			</ol>
		</section>
	</body>	

	<!-- GUI -->
	<script type="text/javascript" src="excepciones/TropaVaciaEx.js"></script>
	<script type="text/javascript" src="batalla5ejercitos/MensajeFinBatalla.js"></script>
	<script type="text/javascript" src="batalla5ejercitos/GUI.js"></script>
</html>